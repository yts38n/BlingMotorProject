{"version":3,"file":"reservation.js","names":["getCalendar","currentQueryYear","currentQueryMonth","newBookingBtn","document","querySelector","addEventListener","newBooking","blingMotorUserStatus","selectedDate","Date","value","setHours","toString","selectedPlan","customerMsg","userToken","axios","post","then","response","alert","data","status","window","location","replace","error","msg"],"sources":["reservation.js"],"sourcesContent":["getCalendar(currentQueryYear, currentQueryMonth);\r\n\r\nlet newBookingBtn = document.querySelector('#newBookingBtn');\r\nnewBookingBtn.addEventListener('click', newBooking);\r\n\r\nfunction newBooking() {\r\n    if (blingMotorUserStatus['isLogin'] === true) {\r\n        let selectedDate = new Date(document.querySelector('#selectedDate').value).setHours(0, 0, 0, 0).toString();\r\n        let selectedPlan = document.querySelector('#selectedPlan').value.toString();\r\n        let customerMsg = document.querySelector('#customerMsg').value.toString();\r\n\r\n        if (selectedDate !== '' && selectedPlan !== '' & customerMsg !== '') {\r\n            let userToken = blingMotorUserStatus['userInfo']['userEmail'];\r\n\r\n            axios.post(`https://bling-motor-mock-server.onrender.com/api/v1/customers/booking`, {\r\n                'data': {\r\n                    'token': userToken,\r\n                    'newBookingInfo': {\r\n                        \"date\": selectedDate,\r\n                        \"plan\": selectedPlan,\r\n                        \"userRemarks\": customerMsg\r\n                    }\r\n                }\r\n            })\r\n            .then(response => {\r\n                alert(response.data.data.status);\r\n                window.location.replace('../index.html');\r\n            })\r\n            .catch(error => {\r\n                alert(error.response.data.data.msg);\r\n            });\r\n        } else {\r\n            alert('請填寫所有欄位!')\r\n        }\r\n        \r\n    } else {\r\n        alert('請先登入!')\r\n    }\r\n\r\n}"],"mappings":";;AAAAA,WAAW,CAACC,gBAAgB,EAAEC,iBAAiB,CAAC;AAEhD,IAAIC,aAAa,GAAGC,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;AAC5DF,aAAa,CAACG,gBAAgB,CAAC,OAAO,EAAEC,UAAU,CAAC;AAEnD,SAASA,UAAU,GAAG;EAClB,IAAIC,oBAAoB,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE;IAC1C,IAAIC,YAAY,GAAG,IAAIC,IAAI,CAACN,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC,CAACM,KAAK,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACC,QAAQ,EAAE;IAC1G,IAAIC,YAAY,GAAGV,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC,CAACM,KAAK,CAACE,QAAQ,EAAE;IAC3E,IAAIE,WAAW,GAAGX,QAAQ,CAACC,aAAa,CAAC,cAAc,CAAC,CAACM,KAAK,CAACE,QAAQ,EAAE;IAEzE,IAAIJ,YAAY,KAAK,EAAE,IAAIK,YAAY,KAAK,EAAE,GAAGC,WAAW,KAAK,EAAE,EAAE;MACjE,IAAIC,SAAS,GAAGR,oBAAoB,CAAC,UAAU,CAAC,CAAC,WAAW,CAAC;MAE7DS,KAAK,CAACC,IAAI,0EAA0E;QAChF,MAAM,EAAE;UACJ,OAAO,EAAEF,SAAS;UAClB,gBAAgB,EAAE;YACd,MAAM,EAAEP,YAAY;YACpB,MAAM,EAAEK,YAAY;YACpB,aAAa,EAAEC;UACnB;QACJ;MACJ,CAAC,CAAC,CACDI,IAAI,CAAC,UAAAC,QAAQ,EAAI;QACdC,KAAK,CAACD,QAAQ,CAACE,IAAI,CAACA,IAAI,CAACC,MAAM,CAAC;QAChCC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,eAAe,CAAC;MAC5C,CAAC,CAAC,SACI,CAAC,UAAAC,KAAK,EAAI;QACZN,KAAK,CAACM,KAAK,CAACP,QAAQ,CAACE,IAAI,CAACA,IAAI,CAACM,GAAG,CAAC;MACvC,CAAC,CAAC;IACN,CAAC,MAAM;MACHP,KAAK,CAAC,UAAU,CAAC;IACrB;EAEJ,CAAC,MAAM;IACHA,KAAK,CAAC,OAAO,CAAC;EAClB;AAEJ"}