{"version":3,"file":"gsi.js","names":["YOUR_GOOGLE_CLIENT_ID","signInButton","document","getElementById","signOutButton","showUser","querySelector","isLogin","user","window","onload","google","accounts","id","initialize","client_id","callback","handleCredentialResponse","renderButton","type","theme","size","text","shape","logo_alignment","locale","click_listener","onClickHandler","isLoginCheck","console","log","response","responsePayload","JSON","parse","atob","credential","split","localStorage","setItem","stringify","renderUser","onclick","removeItem","getItem","str","Object","entries","forEach","obj","innerHTML","style","display"],"sources":["gsi.js"],"sourcesContent":["const YOUR_GOOGLE_CLIENT_ID = 'YOUR_GOOGLE_CLIENT_ID';\r\nconst signInButton = document.getElementById('signIn_button');\r\nconst signOutButton = document.getElementById('signOut_button');\r\nconst showUser = document.querySelector('.showUser');\r\nlet isLogin = false;\r\nlet user = {\r\n    'sub': null,\r\n    'name': null,\r\n    'email': null\r\n}\r\n\r\n// console.log(signInButton);\r\n// console.log(signOutButton);\r\n\r\n//將「使用 Google 登入」用戶端初始化\r\nwindow.onload = function () {\r\n    google.accounts.id.initialize({\r\n        client_id: YOUR_GOOGLE_CLIENT_ID,\r\n        callback: handleCredentialResponse\r\n    });\r\n    google.accounts.id.renderButton(\r\n        signInButton, {\r\n            type: 'standard',\r\n            theme: 'outline',\r\n            size: 'large',\r\n            text: 'signup_with',\r\n            shape: 'pill',\r\n            logo_alignment: 'left', \r\n            locale: 'zh_TW',\r\n            click_listener: onClickHandler\r\n        } // customization attributes\r\n    );\r\n    isLoginCheck();\r\n}\r\n\r\nfunction onClickHandler() {\r\n    console.log(\"Sign in with Google button clicked...\")\r\n}\r\n\r\nfunction handleCredentialResponse(response) {\r\n    // JSON.parse(window.atob(response.credential.split('.')[1])) is a custom method defined by you\r\n    // to decode the credential response.\r\n\r\n    const responsePayload = JSON.parse(window.atob(response.credential.split('.')[1]));\r\n    console.log(responsePayload);\r\n    isLogin = true;\r\n    user['sub'] = responsePayload['sub'];\r\n    user['name'] = responsePayload['name'];\r\n    user['email'] = responsePayload['email'];\r\n\r\n    localStorage.setItem('isLogin', isLogin);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n\r\n    renderUser(isLogin);\r\n}\r\n\r\nsignOutButton.onclick = () => {\r\n    isLogin = false;\r\n\r\n    localStorage.setItem('isLogin', isLogin);\r\n    localStorage.removeItem('user');\r\n\r\n    renderUser(isLogin);\r\n}\r\n\r\nfunction isLoginCheck() {\r\n    if (localStorage.getItem('isLogin') === null || localStorage.getItem('isLogin') === 'false') {\r\n        console.log('Not Login!');\r\n    } else {\r\n        isLogin = true;\r\n        renderUser(isLogin);\r\n    }\r\n}\r\n\r\nfunction renderUser() {\r\n    if (isLogin === true) {\r\n        user = JSON.parse(localStorage.getItem('user'));\r\n\r\n        let str = '';\r\n        Object.entries(user).forEach((obj) => {\r\n            str += `<h3>${obj[0]}：${obj[1]}</h3>`;\r\n        });\r\n\r\n        showUser.innerHTML = str;\r\n        signInButton.style.display = 'none';\r\n        signOutButton.style.display = 'inline-block';\r\n    } else {\r\n        showUser.innerHTML = '';\r\n        signInButton.style.display = 'inline-block';\r\n        signOutButton.style.display = 'none';\r\n    }\r\n}"],"mappings":"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"}